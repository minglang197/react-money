(this.webpackJsonpmoney=this.webpackJsonpmoney||[]).push([[0],{36:function(n,e,t){},37:function(n,e,t){},39:function(n,e,t){var c={"./money.svg":40,"./right.svg":41,"./statistics.svg":42,"./tag.svg":43};function a(n){var e=i(n);return t(e)}function i(n){if(!t.o(c,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return c[n]}a.keys=function(){return Object.keys(c)},a.resolve=i,n.exports=a,a.id=39},40:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><defs><style></style></defs><path d="M761.111 174.856h-93.468L562.549 368.498c-28.028 52.478-45.17 87.36-51.43 104.648h-1.789c-18.489-42.038-70.66-141.465-156.524-298.29h-98.834l183.804 315.732h-150.71v69.764h176.648v96.152H287.065v70.659h176.649v139.978h87.652V727.163h170.388v-70.66H551.367v-96.151h170.388v-69.764H575.518l185.593-315.732z" /></symbol>'});r.a.add(s);e.default=s},41:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><defs><style></style></defs><path d="M715.074 511.875l-35.314-35.336-.151.15L344.24 141.292l-35.314 35.314L644.3 512 308.926 847.397l35.314 35.31 335.369-335.393.151.15 35.314-35.34-.126-.125.126-.124zm0 0" /></symbol>'});r.a.add(s);e.default=s},42:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="statistics"><defs><style></style></defs><path d="M238.074 758.565c17.674 0 32-15.147 32-33.832v-191.29c0-18.685-14.326-33.832-32-33.832s-32 15.147-32 33.832v191.29c0 18.685 14.327 33.832 32 33.832zm184.889 0c17.673 0 32-15.147 32-33.832V318.208c0-18.685-14.327-33.833-32-33.833s-32 15.148-32 33.833v406.525c0 18.685 14.327 33.832 32 33.832zm184.889 0c17.673 0 32-15.147 32-33.832V391.77c0-18.686-14.327-33.833-32-33.833s-32 15.147-32 33.833v332.963c0 18.685 14.327 33.832 32 33.832zm184.888 0c17.674 0 32-15.147 32-33.832v-515.9c0-18.685-14.326-33.833-32-33.833s-32 15.148-32 33.833v515.9c0 18.685 14.327 33.832 32 33.832z" /><path d="M960.019 831.67L96 831.17V133.5c0-17.673-14.327-32-32-32s-32 14.327-32 32v719.293c0 23.345 18.992 42.35 42.34 42.365l885.641.512h.02c17.664 0 31.989-14.315 31.999-31.982.01-17.672-14.309-32.008-31.981-32.018z" /></symbol>'});r.a.add(s);e.default=s},43:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"tag",use:"tag-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="tag"><defs><style></style></defs><path d="M753.553 328.104L565.968 184.191a74.669 74.669 0 00-90.869 0L287.513 328.104a111.68 111.68 0 00-43.727 88.563v364.211a108.341 108.341 0 00108.34 108.434H688.94a108.36 108.36 0 00108.36-108.36V416.74a111.699 111.699 0 00-43.747-88.636zm6.606 447.424a76.865 76.865 0 01-76.883 76.883H357.33a76.865 76.865 0 01-76.883-76.883v-365.32a66.625 66.625 0 0127.307-53.782L500.007 215.87a34.28 34.28 0 0140.591 0l192.254 140.556a66.625 66.625 0 0127.307 53.783z" /><path d="M520.543 400.375a64.577 64.577 0 1064.576 64.576 64.577 64.577 0 00-64.576-64.576zm0 92.252a27.676 27.676 0 1127.675-27.676 27.676 27.676 0 01-27.675 27.676z" /></symbol>'});r.a.add(s);e.default=s},49:function(n,e,t){"use strict";t.r(e);var c,a=t(1),i=t(27),r=t.n(i),s=(t(36),t(37),t(9)),l=t(4),o=t(2),d=t(3),j=t(0);try{(c=t(39)).keys().forEach(c)}catch(pn){console.log(pn)}var u,b,x,h,f,g,p,O,m=function(n){return Object(j.jsx)("svg",{className:"icon",children:Object(j.jsx)("use",{xlinkHref:"#"+n.name})})},v=d.a.div(u||(u=Object(o.a)(["\n    line-height: 24px;\n    box-shadow: 0 0 3px rgba(0,0,0,0.25);\n    >ul {\n      display: flex;\n      >li {\n        width: 33.333%;\n        text-align: center;\n        .tabbar {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          >.icon{\n            height: 24px;\n            width: 24px;\n          }\n          &.selected{\n            color: rgb(251 188 5);\n            .icon {\n              fill: rgb(251 188 5)\n            }\n          }\n\n        }\n      }\n    }\n  "]))),w=function(){return Object(j.jsx)(v,{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsxs)(s.c,{to:"/tag",replace:!0,className:"tabbar",activeClassName:"selected",children:[Object(j.jsx)(m,{name:"tag"}),Object(j.jsx)("p",{children:"\u6807\u7b7e"})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(s.c,{to:"/money",replace:!0,className:"tabbar",activeClassName:"selected",children:[Object(j.jsx)(m,{name:"money"}),Object(j.jsx)("p",{children:"\u8bb0\u8d26"})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(s.c,{to:"/statistics",replace:!0,className:"tabbar",activeClassName:"selected",children:[Object(j.jsx)(m,{name:"statistics"}),Object(j.jsx)("p",{children:"\u7edf\u8ba1"})]})})]})})},y=d.a.div(b||(b=Object(o.a)(["\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n  "]))),k=d.a.div(x||(x=Object(o.a)(["\n    display: flex;\n    flex-grow: 1;\n    overflow: auto;\n  "]))),C=function(n){return Object(j.jsxs)(y,{children:[Object(j.jsx)(k,{children:n.children}),Object(j.jsx)(w,{})]})},N=t(19),z=t(10),S=parseInt(window.localStorage.getItem("idMax")||"0"),I=function(){return S+=1,window.localStorage.setItem("idMax",JSON.stringify(S)),S},T=function(n,e){var t=Object(a.useRef)(0);Object(a.useEffect)((function(){t.current+=1})),Object(a.useEffect)((function(){t.current>1&&n()}),e)},B=function(){var n=Object(a.useState)([]),e=Object(z.a)(n,2),t=e[0],c=e[1];Object(a.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("tags")||"[]");0===n.length&&(n=[{id:I(),name:"\u8863"},{id:I(),name:"\u98df"},{id:I(),name:"\u4f4f"},{id:I(),name:"\u884c"}]),c(n)}),[]),T((function(){window.localStorage.setItem("tags",JSON.stringify(t))}),[t]);return{tags:t,setTags:c,findTag:function(n){return t.filter((function(e){return e.id===n}))[0]},updateTag:function(n,e){var a=e.name;c(t.map((function(e){return e.id===n?{id:n,name:a}:e})))},findTagIndex:function(n){for(var e=-1,c=0;c<t.length;c++)if(t[c].id===n){e=c;break}return e},delectTag:function(n){c(t.filter((function(e){return e.id!==n})))},addTag:function(){var n=window.prompt("\u8bf7\u8f93\u5165\u65b0\u7684\u6807\u7b7e\u540d,\u6700\u591a\u8f93\u5165\u56db\u4e2a\u5b57");if(null!==n)return 0===n.length?window.alert("\u6807\u7b7e\u540d\u4e0d\u80fd\u4e3a\u7a7a"):void(n.length>4?(n=n.slice(0,4),c([].concat(Object(N.a)(t),[{id:I(),name:n}]))):c([].concat(Object(N.a)(t),[{id:I(),name:n}])))},getName:function(n){var e=t.filter((function(e){return e.id===n}))[0];return e?e.name:""}}},L=d.a.header(h||(h=Object(o.a)(["\n  display: flex;\n  font-size: 20px;\n  height: 72px ;\n  background: rgb(251 188 5 );\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n"]))),M=d.a.div(f||(f=Object(o.a)(["\n  background: #eee;\n  width: 100%;\n"]))),E=d.a.button(g||(g=Object(o.a)(["\n    padding: 10px;\n    background: white;\n    color: inherit;\n    border: 2px solid #ccc;\n    border-radius: 5px;\n    margin-top: 50px;\n"]))),F=d.a.div(p||(p=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n"]))),J=d.a.ol(O||(O=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  background: #eee;\n  margin: 20px 0 0 0;\n  height: 60vh;\n  overflow: auto;\n  &::-webkit-scrollbar {\n    display: none; \n  }\n\n  >li {\n      background: #fff;\n      border-bottom: 2px solid #ccc;\n\n      >a {\n        padding: 21px 16px;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        >span {\n          width: 80px;\n          display: inline-block;\n        }\n      }\n    }\n"])));var V,D,H,P,R,Y=function(){var n=B(),e=n.tags,t=n.addTag;return Object(j.jsx)(C,{children:Object(j.jsxs)(M,{children:[Object(j.jsx)(L,{children:Object(j.jsx)("span",{children:"\u6807\u7b7e"})}),Object(j.jsx)(J,{children:e.map((function(n){return Object(j.jsx)("li",{children:Object(j.jsxs)(s.b,{to:"/tag/"+n.id,children:[Object(j.jsx)("span",{children:n.name}),Object(j.jsx)(m,{name:"right"})]})},n.id)}))}),Object(j.jsx)(F,{children:Object(j.jsx)(E,{onClick:t,children:"\u65b0\u589e\u6807\u7b7e"})})]})})},A=t(14),U=d.a.section(V||(V=Object(o.a)(["\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    overflow: auto;\n    >ol {\n      display: flex;\n      flex-wrap: wrap;\n      padding: 14px 10px 0 10px;\n      >li {\n        background: #ccc;\n        padding: 6px 20px;\n        margin: 0 12px 10px 0;\n        border-radius: 16px;\n        &.selected {\n          background: rgb(251 188 5);\n        }\n      }\n    }\n"]))),_=function(n){var e=B().tags,t=n.value;return Object(j.jsx)(U,{children:Object(j.jsx)("ol",{children:e.map((function(e){return Object(j.jsx)("li",{onClick:function(){return c=e.id,void(t.indexOf(c)>=0?n.onChange(t.filter((function(n){return n!==c}))):n.onChange([c]));var c},className:(c=e.id,t.indexOf(c)>=0?"selected":""),children:e.name},e.id);var c}))})})},q=d.a.section(D||(D=Object(o.a)(["\n    display: flex;\n    >ol {\n      display: flex;\n      width: 100%;\n      >li {\n        padding: 16px 0;\n        width: 50%;\n        text-align: center;\n        background-color: #ccc;\n        font-size: 20px;\n        &.selected {\n          background: rgb(251 188 5);\n        }\n      }\n    }\n"]))),G=function(n){var e=n.value;return Object(j.jsx)(q,{children:Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{className:"-"===e?"selected":"",onClick:function(){n.onChange("-")},children:"\u652f\u51fa"}),Object(j.jsx)("li",{className:"+"===e?"selected":"",onClick:function(){n.onChange("+")},children:"\u6536\u5165"})]})})},K=d.a.section(H||(H=Object(o.a)(["\n    display:flex;\n    background: #eee;\n    >label {\n      display: flex;\n      padding: 15px 10px;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      >input {\n        display: flex;\n        flex-grow: 1;\n        padding: 1px 0 0  20px;\n      }\n    }\n"]))),Q=function(n){var e=n.value,t=Object(a.useRef)(null);return Object(j.jsx)(K,{children:Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"\u5907\u6ce8"}),Object(j.jsx)("input",{placeholder:"\u6700\u591a\u8f93\u5165\u516b\u4e2a\u5b57",maxLength:8,defaultValue:e,ref:t,onBlur:function(){null!==t.current&&n.onChange(t.current.value)}})]})})},W=d.a.section(P||(P=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n    >.number {\n      font-size: 24px;\n      line-height: 48px;\n      text-align: right;\n      padding: 0 16px;\n      box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25),\n                  inset 0 5px 5px -5px rgba(0,0,0,0.25);\n\n    }\n    >.numberPad {\n      >button {\n        float: left;\n        width: 25%;\n        height: 60px;\n        &.zero {\n          width: 75%;\n        }\n        &.ok {\n          float: right;\n          height: 120px;\n\n        }\n        &:nth-child(1) {\n          background: #f2f2f2;\n        }\n        &:nth-child(2),\n        &:nth-child(5){\n          background: #e0e0e0;\n        }\n        &:nth-child(3),\n        &:nth-child(6),\n        &:nth-child(9){\n          background: #d3d3d3;\n        }\n        &:nth-child(4),\n        &:nth-child(7),\n        &:nth-child(10){\n          background: #c1c1c1;\n        }\n        &:nth-child(8),\n        &:nth-child(11),\n        &:nth-child(13){\n          background: #b8b8b8;\n        }\n        &:nth-child(12) {\n          background: #9a9a9a;\n        }\n        &:nth-child(14) {\n          background: #a9a9a9;\n        }\n      }\n    }\n"]))),X=function(n){var e=n.value.toString(),t=function(e){var t;t=e.length>6?parseFloat(e.slice(0,6)):0===e.length?0:parseFloat(e),n.onChange(t)};return Object(j.jsxs)(W,{children:[Object(j.jsx)("div",{className:"number",children:e}),Object(j.jsxs)("div",{className:"numberPad",onClick:function(c){var a=c.target.textContent;if(null!==a){switch(a){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t("0"===e?a:e+a);break;case"\u5220\u9664":1===e.length?t("0"):t(e.slice(0,-1));break;case"\u6e05\u7a7a":t("0")}"ok"!==a||n.onOk&&n.onOk()}},children:[Object(j.jsx)("button",{children:"1"}),Object(j.jsx)("button",{children:"2"}),Object(j.jsx)("button",{children:"3"}),Object(j.jsx)("button",{children:"\u5220\u9664"}),Object(j.jsx)("button",{children:"4"}),Object(j.jsx)("button",{children:"5"}),Object(j.jsx)("button",{children:"6"}),Object(j.jsx)("button",{children:"\u6e05\u7a7a"}),Object(j.jsx)("button",{children:"7"}),Object(j.jsx)("button",{children:"8"}),Object(j.jsx)("button",{children:"9"}),Object(j.jsx)("button",{className:"ok",children:"ok"}),Object(j.jsx)("button",{className:"zero",children:"0"})]})]})},Z=function(){var n=Object(a.useState)([]),e=Object(z.a)(n,2),t=e[0],c=e[1];Object(a.useEffect)((function(){c(JSON.parse(window.localStorage.getItem("records")||"[]"))}),[]),T((function(){window.localStorage.setItem("records",JSON.stringify(t))}),[t]);return{records:t,addRecord:function(n){if(n.amount<=0)return alert("\u8bf7\u8f93\u5165\u91d1\u989d"),!1;if(!(n.tagIds.length<1)){var e=Object(A.a)(Object(A.a)({},n),{},{createdAt:(new Date).toISOString()});return c([].concat(Object(N.a)(t),[e])),!0}alert("\u8bf7\u9009\u62e9\u4e00\u4e2a\u6807\u7b7e")}}},$=d.a.div(R||(R=Object(o.a)(["\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column-reverse;\n"]))),nn={tagIds:[1],note:"",category:"-",amount:0};var en,tn=function(){var n=Object(a.useState)(nn),e=Object(z.a)(n,2),t=e[0],c=e[1],i=function(n){c(Object(A.a)(Object(A.a)({},t),n))},r=Z().addRecord;return Object(j.jsx)(C,{children:Object(j.jsxs)($,{children:[Object(j.jsx)(X,{value:t.amount,onChange:function(n){return i({amount:n})},onOk:function(){r(t)&&c(nn)}}),Object(j.jsx)(Q,{value:t.note,onChange:function(n){return i({note:n})}}),Object(j.jsx)(_,{value:t.tagIds,onChange:function(n){return i({tagIds:n})}}),Object(j.jsx)(G,{value:t.category,onChange:function(n){return i({category:n})}})]})})},cn=t(31),an=t.n(cn),rn=d.a.div(en||(en=Object(o.a)(["\n      display: flex;\n      flex-direction: column;\n      >span {\n        padding: 6px 0 6px 4px;\n        color: #aaa;\n      }\n      > div{\n        display: flex;\n        background-color: #fff;\n        padding: 14px 16px;\n        font-size: 18px;\n        margin-bottom: 3px;\n        justify-content: space-between;\n      }\n"])));var sn,ln=function(){var n=Z().records,e=B().getName,t=Object(a.useState)("-"),c=Object(z.a)(t,2),i=c[0],r=c[1],s=n.filter((function(n){return n.category===i})),l={};s.map((function(n){var e=an()(n.createdAt).format("YYYY-MM-DD");e in l||(l[e]=[]),l[e].push(n)}));var o=Object.entries(l).sort((function(n,e){return n[0]===e[0]?0:n[0]>e[0]?-1:n[0]<e[0]?1:0}));return Object(j.jsx)(C,{children:Object(j.jsxs)(M,{children:[Object(j.jsx)(G,{value:i,onChange:function(n){return r(n)}}),o.map((function(n){var t=Object(z.a)(n,2),c=t[0],a=t[1];return Object(j.jsxs)(rn,{children:[Object(j.jsx)("span",{children:c},c),a.map((function(n){return Object(j.jsxs)("div",{children:[n.tagIds.map((function(n){return Object(j.jsx)("span",{children:e(n)},n)})),Object(j.jsxs)("span",{children:[n.category,n.tagIds,n.amount]})]})}))]})}))]})})},on=d.a.div(sn||(sn=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-top: 50px;\n  >a {\n    display: flex;\n    padding: 30px 0 0 0;\n    border-bottom: 2px solid #000;\n  }\n"])));var dn,jn,un=function(){return Object(j.jsxs)(on,{children:[Object(j.jsx)("h3",{children:"\u641e\u7684\u4ec0\u4e48\u9b3c\uff0c\u9875\u9762\u6839\u672c\u4e0d\u5b58\u5728"}),Object(j.jsx)("a",{href:"/",children:"\u70b9\u6211\u8fd4\u56de\u9996\u9875"})]})},bn=d.a.div(dn||(dn=Object(o.a)(["\n  display: flex;\n  font-size: 20px;\n  justify-content: flex-end;\n  background: rgb(251 188 5 );\n  align-items: center;\n  padding: 24px 10px 24px 50px;\n  > span {\n    flex-grow: 20;\n    display: flex;\n    justify-content: center;\n  }\n  >a {\n    flex-grow: 1;\n    display: flex;\n    justify-content: center;\n  }\n"]))),xn=d.a.label(jn||(jn=Object(o.a)(["\n  display: flex;\n  margin-top: 20px;\n  background-color: #fff;\n  >span {\n    font-size: 18px;\n    padding: 20px;\n  }\n  >input {\n    font-size: 14px;\n    flex-grow: 1;\n  }\n"]))),hn=function(){var n=Object(l.g)(),e=B(),t=e.tags,c=e.findTag,a=e.updateTag,i=e.delectTag,r=Object(l.h)().id,o=c(parseInt(r));return o?Object(j.jsxs)(M,{className:"height",children:[Object(j.jsxs)(bn,{children:[Object(j.jsx)("span",{children:"\u7f16\u8f91\u6807\u7b7e"}),Object(j.jsx)(s.b,{to:"/tag",children:Object(j.jsx)(m,{name:"right"})})]}),Object(j.jsxs)(xn,{children:[Object(j.jsx)("span",{children:"\u6807\u7b7e\u540d"}),Object(j.jsx)("input",{defaultValue:o.name,maxLength:4,placeholder:"\u7f16\u8f91\u6807\u7b7e\uff0c\u6807\u7b7e\u540d\u6700\u591a\u56db\u4e2a\u5b57",onChange:function(n){a(o.id,{name:n.target.value})}})]}),Object(j.jsx)(F,{children:Object(j.jsx)(E,{className:"button",onClick:function(){t.length<5?alert("\u9ed8\u8ba4\u6807\u7b7e\u4e0d\u80fd\u5220\u9664"):window.confirm("\u786e\u5b9a\u8981\u5220\u9664\u561b\uff1f")&&(i(o.id),n.goBack())},children:"\u5220\u9664\u6807\u7b7e"})})]}):Object(j.jsx)("div",{children:"\u4e0d\u5b58\u5728"})};var fn=function(){return Object(j.jsx)(s.a,{children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{exact:!0,path:"/tag",children:Object(j.jsx)(Y,{})}),Object(j.jsx)(l.b,{exact:!0,path:"/tag/:id",children:Object(j.jsx)(hn,{})}),Object(j.jsx)(l.b,{exact:!0,path:"/money",children:Object(j.jsx)(tn,{})}),Object(j.jsx)(l.b,{exact:!0,path:"/statistics",children:Object(j.jsx)(ln,{})}),Object(j.jsx)(l.a,{exact:!0,from:"/",to:"/money"}),Object(j.jsx)(l.b,{path:"*",children:Object(j.jsx)(un,{})})]})})},gn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,50)).then((function(e){var t=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;t(n),c(n),a(n),i(n),r(n)}))};r.a.render(Object(j.jsx)(fn,{}),document.getElementById("root")),gn()}},[[49,1,2]]]);
//# sourceMappingURL=main.ac36606f.chunk.js.map